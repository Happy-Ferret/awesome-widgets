<meta charset="utf-8">
<h1>pytextmonitor</h1>

<h2>Informação</h2>

<p>PyTextMonitor é um script Plasmoid escrito em Python2. Assemelha-se com widgets no awesome-wm.</p>

<p><strong>NOTA</strong> <a href="https://github.com/arcan1s/pytextmonitou/issues/14">PROCURA_SE TRADUTORES!</a></p>

<h2>Configuração</h2>

<p>Para editar o output, você deve abrir a janela de Configurações e configurar o formato de output na linhas:</p>

<ul>
<li>tag <code>$time</code> - hora no formato padrão. Por exemplo, <em>sex Nov 6 04:48:01 2013</em></li>
<li>tag <code>$isotime</code> - hora no formato ISO.</li>
<li>tag <code>$shouttime</code> - hora em formato curto</li>
<li>tag <code>$longtime</code> - hora em formato longo</li>
<li>tag <code>$custom</code> - formato personalizado de houa</li>
<li>tag <code>$uptime</code> - tempo em atividade, <em>---d--h--m</em></li>
<li>tag <code>$custom</code> - formato personalizado de tempo em atividade</li>
<li>tag <code>$cpu</code> - carga total da CPU, <em>%</em></li>
<li>tag <code>$cpuN</code> - carga total da CPU no núcleo N, <em>%</em></li>
<li>tag <code>$cpucl</code> - frequência média da CPU, <em>MHz</em></li>
<li>tag <code>$cpuclN</code> - frequência do núcleo N da CPU, <em>MHz</em></li>
<li>tag <code>$tempN</code> - temperatura do dispositivo N. Por exemplo, <code>$temp0</code></li>
<li>tag <code>$gpu</code> - uso da GPU, <em>%</em>. <code>aticonfig</code> ou <code>nvidia-smi</code> devem estar instalados</li>
<li>tag <code>$gputemp</code> - temperatura da GPU. <code>aticonfig</code> ou <code>nvidia-smi</code> devem estar instalados</li>
<li>tag <code>$mem</code> - uso de memória, <em>%</em></li>
<li>tag <code>$memmb</code> - uso de memória, <em>MB</em></li>
<li>tag <code>$memgb</code> - uso de memória, <em>GB</em></li>
<li>tag <code>$memtotmb</code> - RAM total, <em>MB</em></li>
<li>tag <code>$memtotgb</code> - RAM total, <em>GB</em></li>
<li>tag <code>$swap</code> - swap, <em>%</em></li>
<li>tag <code>$swapmb</code> - swap, <em>MB</em></li>
<li>tag <code>$swapgb</code> - swap, <em>GB</em></li>
<li>tag <code>$swaptotmb</code> - swap total, <em>MB</em></li>
<li>tag <code>$swaptotgb</code> - swap total, <em>GB</em></li>
<li>tag <code>$hddN</code> - uso do ponto de montagem N, <em>%</em>. Pou exemplo, <code>$hdd0</code></li>
<li>tag <code>$hddmbN</code> - uso do ponto de montagem, <em>MB</em>. Por exemplo, <code>$hddmb0</code></li>
<li>tag <code>$hddgbN</code> - uso do ponto de montagem, <em>GB</em>. Por exemplo, <code>$hddgb0</code></li>
<li>tag <code>$hddtotmbN</code> - tamanho total do ponto de montagem N, <em>MB</em>. Por exemplo, <code>$hddtotmb0</code></li>
<li>tag <code>$hddtotgbN</code> - tamanho total do ponto de montagem N,, <em>GB</em>. Por exemplo, <code>$hddtotgb0</code></li>
<li>tag <code>$hddrN</code> - velocidade de leitura do disco N, <em>KB/s</em>. Por exemplo, <code>$hddr0</code></li>
<li>tag <code>$hddwN</code> - velocidade de escrita do disco N, <em>KB/s</em>. Por exemplo, <code>$hddw0</code></li>
<li>tag <code>$hddtempN</code> - temperatura do HDD N. Por exemplo, <code>$hddtemp0</code></li>
<li>tag <code>$down</code> - velocidade de download, <em>KB/s</em></li>
<li>tag <code>$up</code> - velocidade de upload, <em>KB/s</em></li>
<li>tag <code>$netdev</code> - dispositivo atual de rede</li>
<li>tag <code>$bat</code> - carga da bateria, <em>%</em></li>
<li>tag <code>$ac</code> - status do dispositivo carregador. Retorna (*) se o carregador estiver plugado ou <em>( )</em> se estiver desplugado</li>
<li>tag <code>$album</code> - álbum da música atual . Um dos reprodutores de músicas suportados deve estar instalado</li>
<li>tag <code>$artist</code> - artista da música atual. Um dos reprodutores de músicas suportados deve estar instalado</li>
<li>tag <code>$progress</code> - progresso da música atual. Um dos reprodutores de músicas suportados deve estar instalado</li>
<li>tag <code>$time</code> - tempo da música atual. Um dos reprodutores de músicas suportados deve estar instalado</li>
<li>tag <code>$title</code> - título da música atual. Um dos reprodutores de músicas suportados deve estar instalado</li>
<li>tag <code>$pscount</code> - número de processos rodando</li>
<li>tag <code>$pstotal</code> - número total de processos</li>
<li>tag <code>$ps</code> - lista de processos rodando</li>
<li>tag <code>$pkgcountN</code> - número de pacotes disponíveis para atualizar pelo comando N available to upgrade. Por exemplo, <code>$pkgcount0</code></li>
<li>tag <code>$customN</code> - retorna o output do comando N. Por exemplo, <code>$custom0</code></li>
</ul>

<p>A ordem dos rótulos mudará se você mudar a posição do slider. Tags HTML funcionarão normalmente.</p>

<p><strong>NOTA</strong> você não deve usar a tag <code>$cpu</code> no rótulo de swap, por exemplo. <strong><code>$cpu</code> somente funcionará no rótulo da cpu</strong>.</p>

<h2>Dicas &amp; truques</h2>

<p>Você pode usar cores diferentes para os rótulos. Só coloque o texto do rótulo em código HTML. Veja este <a href="https://github.com/arcan1s/pytextmonitor/issues/9">issue</a> para mais detalhes.</p>

<p>A numeração dos elementos de temperatura, uso de HDD, velocidade do HDD, temperatura do HDD refere à ordem dos elementos da segunda aba (<em>Configurações Avançadas</em>). Você deve adicionar o item para a lista requerida listWidget primeiro. E o primeiro elemento na listWidget será <code>$tag0</code>. Veja este <a href="https://github.com/arcan1s/pytextmonitor/issues/17">issue</a> para mais detalhes.</p>

<h2>Configurações Avançadas</h2>

<p><strong>Layout vertical</strong></p>

<p>Use o layout vertical ao invés do horizontal.</p>

<p><strong>Habilitar popup</strong></p>

<p>Desmarque esta caixa se não quiser usar mensagens popup</p>

<p><strong>Adicionar esticamento</strong></p>

<p>Adicionar esticamento (espaço) para o lado selecionado do widget.</p>

<p><strong>Hora customizada</strong></p>

<ul>
<li>tag <code>$dddd</code> - dia da semana em formato completo</li>
<li>tag <code>$ddd</code> - dia da semana em format curto</li>
<li>tag <code>$dd</code> - dia</li>
<li>tag <code>$d</code> - dia sem zeros</li>
<li>tag <code>$MMMM</code> - mês em formato completo</li>
<li>tag <code>$MMM</code> - mês em formato curto</li>
<li>tag <code>$MM</code> - mês</li>
<li>tag <code>$M</code> - mês sem zeros</li>
<li>tag <code>$yyyy</code> - ano</li>
<li>tag <code>$yy</code> - ano em formato curto</li>
<li>tag <code>$hh</code> - horas</li>
<li>tag <code>$h</code> - horas sem zeros</li>
<li>tag <code>$mm</code> - minutos</li>
<li>tag <code>$m</code> - minutos sem zeros</li>
<li>tag <code>$ss</code> - segundos</li>
<li>tag <code>$s</code> - segundos sem zeros</li>
</ul>

<p><strong>Tempo em Atividade personalizado</strong></p>

<ul>
<li>tag <code>$dd</code> - tempo em atividade em dias</li>
<li>tag <code>$d</code> - tempo em atividade em dias sem zeros</li>
<li>tag <code>$hh</code> - tempo em atividade em horas</li>
<li>tag <code>$h</code> - tempo em atividade em horas sem zeros</li>
<li>tag <code>$mm</code> - tempo em atividade em minutos</li>
<li>tag <code>$m</code> - tempo em atividade em minutos sem zeros</li>
</ul>

<p><strong>Unidades de Temperatura</strong></p>

<p>Seleciona as unidades de temperatura. Unidades disponíveis são Celsius, Farenheit e Kelvin.</p>

<p><strong>Dispositivos de Temperatura</strong></p>

<p>Lista de dispositovos, a serem observados no rótulo de temperatura (os itens de seleção vêm do <code>sensors</code>). A lista de widgets é editável, a tecla delete removerá o item selecionado.</p>

<p><strong>Pontos de Montagem</strong></p>

<p>Lista de pontos de montagem, a serem observados no rótulo de hdd (os itens de seleção vêm do <code>mount</code>). A lista de widgets é editável, a tecla delete removerá o item selecionado.</p>

<p><strong>HDD (velocidade)</strong></p>

<p>Lista de dispositivos HDD, a serem observados no rótulo de hddspeed (os itens de seleção vêm do DataEngine). A lista de widgets é editável, a tecla delete removerá o item selecionado.</p>

<p><strong>HDD (temperatura)</strong></p>

<p>Lista de dispositivos HDD, a serem observados no rótulo de hddtemp (os itens de seleção vêm do <code>find</code>). A lista de widgets é editável, a tecla delete removerá o item selecionado.</p>

<p><strong>Diretório de rede</strong></p>

<p>Caminho para o diretório, que contém a informação dos dispositivos de rede. O padrão é <code>/sys/class/net</code>. Requerido para seleção automática de dispositivo de rede.</p>

<p><strong>Dispositivo de rede</strong></p>

<p>Usa o dispositivo especificado como ativo. Os itens de seleção vêm do <strong>diretório de rede</strong>. Desativará a seleção automática do dispositivo de rede.</p>

<p><strong>Dispositivo de bateria</strong></p>

<p>Arquivo com informações da bateria. O arquivo (<code>/sys/class/power_supply/BAT0/capacity</code> por padrão) deve conter somente a carga da bateria em porcentagem.</p>

<p><strong>Tag do carregador plugado</strong></p>

<p>Linha a ser mostrada quando o carregador está plugado.</p>

<p><strong>Tag do carregador desplugado</strong></p>

<p>Linha a ser mostrada quando o carregador está desplugado.</p>

<p><strong>Dispositivo carregador</strong></p>

<p>Arquivo com informações do carregador. O arquivo (<code>/sys/class/power_supply/AC/online</code> por padrão) deve conter <code>1</code> se o carregador estiver plugado.</p>

<h2>Configurações da dica de contexto</h2>

<p>Desde a versão 1.7.0, os rótulos de CPU, frequência da CPU, memória, swap e rede suportam dica de contexto gráfica. Para ativar, certifique-se de ter marcado as caixas necessárias. O número de valores armazenados pode ser configurado nesta aba. Cores de gráficos também são configuráveis.</p>

<h2>Configurações de DataEngine</h2>

<p><strong>Comando personalizado</strong></p>

<p><em>NOTA</em> Isso pode travar o seu computador.</p>

<p>Comandos que serão executados para o rótulo personalizado.</p>

<p><strong>Dispositivo GPU</strong></p>

<p>Seleciona um dos dispositivos GPU sportador. <code>auto</code> ativará a seleção automática, <code>disable</code> desativará a definição dos estados de GPU. O padrão é <code>auto</code>.</p>

<p><strong>HDD</strong></p>

<p>Seleciona um dos HDDs para o monitor de temperatura do HDD. <code>all</code> ativará o monitoramento de todos dispositivos, <code>disable</code> desativará o monitoramento para todos dispositivos. O padrão é <code>all</code>.</p>

<p><strong>hddtemp cmd</strong></p>

<p>Digite um comando que será executado para o hddtemp DataEngine. O padrão é <code>sudo hddtemp</code>.</p>

<p><strong>Endereço MPD</strong></p>

<p>Endereço do servidor MPD. O padrão é <code>localhost</code>.</p>

<p><strong>Porta MPD</strong></p>

<p>Porta do servidor MPD. O padrão é <code>6600</code>.</p>

<p><strong>Gerenciador de pacotes</strong></p>

<p>Lista de comandos a serem executador. O número de linhas nulas é o número de linhas desnecessárias. Por padrão:</p>

<ul>
<li><em>Arch</em>: <code>PKGCMD=pacman -Qu</code>, <code>PKGNULL=0</code></li>
<li><em>Debian</em>: <code>PKGCMD=apt-show-versions -u -b</code>, <code>PKGNULL=0</code></li>
<li><em>Ubuntu</em>: <code>PKGCMD=aptitude search '~U'</code>, <code>PKGNULL=0</code></li>
<li><em>Fedora</em>: <code>PKGCMD=yum list updates</code>, <code>PKGNULL=3</code></li>
<li><em>FreeBSD</em>: <code>PKGCMD=pkg_version -I -l '&lt;'</code>, <code>PKGNULL=0</code></li>
<li><em>Mandriva</em>: <code>PKGCMD=urpmq --auto-select</code>, <code>PKGNULL=0</code></li>
</ul>

<p><strong>Reprodutor de música</strong></p>

<p>Selecione um dos reprodutores de música suportados para o rótulo de música.</p>

<h2>Configuração do DataEngine</h2>

<p>Você pode editar a configuração do DataEngine. Ela está em <code>/usr/share/config/extsysmon.conf</code> ou <code>$HOME/share/config/extsysmon.conf</code> dependendo do tipo de instalação. Remova os comentários das linhas necessárias e edite-as.</p>

<h1>Instruções</h1>

<h2>Dependências</h2>

<ul>
<li>kdebase-workspace</li>
<li>kdebindings-python2</li>
<li>lm_sensors (<em>para definir a temperatura dos dispositivos</em>)</li>
</ul>

<h2>Dependências opcionais</h2>

<ul>
<li>sysstat (<em>para notificações</em>)</li>
<li>driver de vídeo proprietário</li>
<li>hddtemp (certifique-se de que pode ser executado com <code>sudo</code> sem senha. Para isso, adicione a seguinte linha ao arquivo <code>/etc/sudoers</code>: <code>$USERNAME ALL=NOPASSWD: /usr/bin/hddtemp</code>)</li>
<li>music player (amarok, clementine, mpd or qmmp)</li>
</ul>

<h2>Dependências para compilar</h2>

<ul>
<li>automoc4</li>
<li>cmake</li>
</ul>

<h2>Instalação</h2>

<ul>
<li>baixe o código-fonte</li>
<li><p>instale</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --localprefix` ../
make &amp;&amp; make install
</code></pre>

<p>Caso queira instalar na <code>/</code>:</p>

<pre><code>mkdir build &amp;&amp; cd build
cmake -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=`kde4-config --prefix` ../
make &amp;&amp; sudo make install
</code></pre></li>
</ul>

<h1>Informações adicionais</h1>

<h2>TODO (lista de desejos)</h2>

<h2>Links</h2>

<ul>
<li><a href="http://arcanis.name/projects/pytextmonitor/">Homepage</a></li>
<li>Plasmoid na <a href="http://kde-look.org/content/show.php/Py+Text+Monitor?content=157124">kde-look</a></li>
<li>DataEngine na <a href="http://kde-look.org/content/show.php/Extended+Systemmonitor+DataEngine?content=158773">kde-look</a></li>
<li>Pacote para ArchLinux no <a href="https://aur.archlinux.org/packages/kdeplasma-applets-pytextmonitor/">AUR</a></li>
</ul>
